---
import Layout from "../layouts/Layout.astro";
---

<Layout title="Informace o stránce">
    <main class="container">
        <div id="clanky">
            <h2><a href="#clanky">Zobrazování článků</a></h2>
            <p>
                Pro zobrazování článků využívám dostupných RSS (Atom) kanálů. Ty
                parsuju a pak vykresluju na stránku. Pro všechny zájemce můžete
                využít API endpoint <code>/api/feed</code> s parametry <code
                    >?page=cislo&category=novinky/uspechy-skoly</code
                >, které jsou dobrovolné.
            </p>
            <div id="technickyblbosti">
                <h3><a href="#technickyblbosti">Technické vymoženosti</a></h3>
                <p>Tyto stránky mají následující vymoženosti:</p>
                <div id="odhadnutiautora">
                    <h4>
                        <a href="#odhadnutiautora">Odhadnutí autora článku</a>
                    </h4>
                    <p>
                        Pomocí jednoduchého algoritmu se pokouším odhadnout
                        skutečného autora, to je vhodné, když je článek
                        publikovaný pod účtem Administ apod . Toto odhadování funguje
                        na principu polohy jména v článku a přítomnosti
                        vysokoškolského titulu. Algoritmus oboduje svůj odhad
                        1-3 a pak kdyžtak zobrazí "skutečného autora". Chyby
                        jsou naprosto očekávány.
                    </p>
                </div>
                <div id="capslockfuj">
                    <h4>
                        <a href="#capslockfuj">Nemám rád caps lock</a>
                    </h4>
                    <p>
                        Pokud bude titulek napsaný CASP LOCKEM, tak se upraví
                        tak, aby nebyl. To samozřejmě kompletně porušuje
                        pravidla pravopisu.
                    </p>
                </div>
            </div>
            <script
                media="(prefered-color-scheme: dark)"
                src="https://gist.github.com/PanJohnny/4a1b5fe83583602c953b204d8983e423.js"
                is:inline></script>
            <div id="jidlo">
                <h2><a href="#jidlo">Jídelníček</a></h2>
                <p>
                    Strava, co jsem dokázal zjistit, neposkytuje API. Pro
                    získávání jídelníčku tedy využívám webscraping. Jídelníčky
                    bez potřeby přihlášení se nalézají na URL: <a
                        href="https://www.strava.cz/strava5/Jidelnicky?zarizeni=0837&Tisk=true"
                        >https://www.strava.cz/strava5/Jidelnicky?zarizeni=0837&Tisk=true</a
                    >.
                </p>
                <p>
                    Tip: úplně dole naleznete odhad ceny jídel. Je to jednoduše
                    částka potřebná k zaplacení všech dostupných jídel.
                    Vypočítám ji tedy <math display="inline"
                        ><mi>počet jídel</mi><mo>·</mo><mn>50</mn></math
                    >, kde 50 je cena obědu.
                </p>
            </div>

            <div id="knihy">
                <h2><a href="#knihy">Knihovna</a></h2>
                <p>
                    Procházení školní knihovny je možné díky RSS kanálu a to na
                    adrese: <code
                        >https://skola.tritius.cz/library/gymlit/search/rss?q=vyhledávání</code
                    >.
                </p>
            </div>
        </div>
    </main>
</Layout>

<style>
    :is(h2, h3, h4) > a {
        text-decoration: none;
        color: inherit;
    }

    :is(h2, h3, h4) *::before {
        content: "🔗";
    }
</style>

<style is:inline>
    /* https://github.com/lonekorean/gist-syntax-themes */
    @import url("https://cdn.rawgit.com/lonekorean/gist-syntax-themes/d49b91b3/stylesheets/one-dark.css");

    @media (max-width: 900px) {
        .gist > * {
            display: none;
        }

        .gist::before {
            content: "Obsah nemohl být načtený kvůli velikosti obrazovky. Pokud ho chcete načíst otevřete tuto stránku s větší obrazovkou.";
            color: gray;
            font-family: monospace;
        }
    }
</style>
